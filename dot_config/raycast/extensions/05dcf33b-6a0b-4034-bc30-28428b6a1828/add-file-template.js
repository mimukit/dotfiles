var Ts=Object.create;var Ce=Object.defineProperty,ks=Object.defineProperties,Ps=Object.getOwnPropertyDescriptor,Is=Object.getOwnPropertyDescriptors,Cs=Object.getOwnPropertyNames,dn=Object.getOwnPropertySymbols,bs=Object.getPrototypeOf,yn=Object.prototype.hasOwnProperty,qs=Object.prototype.propertyIsEnumerable;var pn=(e,t,n)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))yn.call(t,n)&&pn(e,n,t[n]);if(dn)for(var n of dn(t))qs.call(t,n)&&pn(e,n,t[n]);return e},K=(e,t)=>ks(e,Is(t)),hn=e=>Ce(e,"__esModule",{value:!0});var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ns=(e,t)=>{for(var n in t)Ce(e,n,{get:t[n],enumerable:!0})},Sn=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Cs(t))!yn.call(e,i)&&(n||i!=="default")&&Ce(e,i,{get:()=>t[i],enumerable:!(r=Ps(t,i))||r.enumerable});return e},Je=(e,t)=>Sn(hn(Ce(e!=null?Ts(bs(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),As=(e=>(t,n)=>e&&e.get(t)||(n=Sn(hn({}),t,1),e&&e.set(t,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var vn=l((Ql,Fn)=>{Fn.exports=xn;xn.sync=Os;var wn=require("fs");function Ds(e,t){var n=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!n||(n=n.split(";"),n.indexOf("")!==-1))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function gn(e,t,n){return!e.isSymbolicLink()&&!e.isFile()?!1:Ds(t,n)}function xn(e,t,n){wn.stat(e,function(r,i){n(r,r?!1:gn(i,e,t))})}function Os(e,t){return gn(wn.statSync(e),e,t)}});var In=l((Zl,Pn)=>{Pn.exports=Tn;Tn.sync=Rs;var En=require("fs");function Tn(e,t,n){En.stat(e,function(r,i){n(r,r?!1:kn(i,t))})}function Rs(e,t){return kn(En.statSync(e),t)}function kn(e,t){return e.isFile()&&Ls(e,t)}function Ls(e,t){var n=e.mode,r=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),c=parseInt("100",8),a=parseInt("010",8),p=parseInt("001",8),u=c|a,f=n&p||n&a&&i===s||n&c&&r===o||n&u&&o===0;return f}});var bn=l((tf,Cn)=>{var ef=require("fs"),Ve;process.platform==="win32"||global.TESTING_WINDOWS?Ve=vn():Ve=In();Cn.exports=Pt;Pt.sync=_s;function Pt(e,t,n){if(typeof t=="function"&&(n=t,t={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,i){Pt(e,t||{},function(o,s){o?i(o):r(s)})})}Ve(e,t||{},function(r,i){r&&(r.code==="EACCES"||t&&t.ignoreErrors)&&(r=null,i=!1),n(r,i)})}function _s(e,t){try{return Ve.sync(e,t||{})}catch(n){if(t&&t.ignoreErrors||n.code==="EACCES")return!1;throw n}}});var Ln=l((nf,Rn)=>{var fe=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",qn=require("path"),Gs=fe?";":":",Nn=bn(),An=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Dn=(e,t)=>{let n=t.colon||Gs,r=e.match(/\//)||fe&&e.match(/\\/)?[""]:[...fe?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],i=fe?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=fe?i.split(n):[""];return fe&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:r,pathExt:o,pathExtExe:i}},On=(e,t,n)=>{typeof t=="function"&&(n=t,t={}),t||(t={});let{pathEnv:r,pathExt:i,pathExtExe:o}=Dn(e,t),s=[],c=p=>new Promise((u,f)=>{if(p===r.length)return t.all&&s.length?u(s):f(An(e));let d=r[p],m=/^".*"$/.test(d)?d.slice(1,-1):d,y=qn.join(m,e),S=!m&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;u(a(S,p,0))}),a=(p,u,f)=>new Promise((d,m)=>{if(f===i.length)return d(c(u+1));let y=i[f];Nn(p+y,{pathExt:o},(S,w)=>{if(!S&&w)if(t.all)s.push(p+y);else return d(p+y);return d(a(p,u,f+1))})});return n?c(0).then(p=>n(null,p),n):c(0)},$s=(e,t)=>{t=t||{};let{pathEnv:n,pathExt:r,pathExtExe:i}=Dn(e,t),o=[];for(let s=0;s<n.length;s++){let c=n[s],a=/^".*"$/.test(c)?c.slice(1,-1):c,p=qn.join(a,e),u=!a&&/^\.[\\\/]/.test(e)?e.slice(0,2)+p:p;for(let f=0;f<r.length;f++){let d=u+r[f];try{if(Nn.sync(d,{pathExt:i}))if(t.all)o.push(d);else return d}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw An(e)};Rn.exports=On;On.sync=$s});var Ct=l((rf,It)=>{"use strict";var _n=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};It.exports=_n;It.exports.default=_n});var Mn=l((of,jn)=>{"use strict";var Gn=require("path"),js=Ln(),Ms=Ct();function $n(e,t){let n=e.options.env||process.env,r=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let s;try{s=js.sync(e.command,{path:n[Ms({env:n})],pathExt:t?Gn.delimiter:void 0})}catch{}finally{o&&process.chdir(r)}return s&&(s=Gn.resolve(i?e.options.cwd:"",s)),s}function Bs(e){return $n(e)||$n(e,!0)}jn.exports=Bs});var Bn=l((sf,qt)=>{"use strict";var bt=/([()\][%!^"`<>&|;, *?])/g;function Ws(e){return e=e.replace(bt,"^$1"),e}function Us(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(bt,"^$1"),t&&(e=e.replace(bt,"^$1")),e}qt.exports.command=Ws;qt.exports.argument=Us});var Un=l((cf,Wn)=>{"use strict";Wn.exports=/^#!(.*)/});var Xn=l((af,Hn)=>{"use strict";var Hs=Un();Hn.exports=(e="")=>{let t=e.match(Hs);if(!t)return null;let[n,r]=t[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return i==="env"?r:r?`${i} ${r}`:i}});var Vn=l((uf,Jn)=>{"use strict";var Nt=require("fs"),Xs=Xn();function Js(e){let n=Buffer.alloc(150),r;try{r=Nt.openSync(e,"r"),Nt.readSync(r,n,0,150,0),Nt.closeSync(r)}catch{}return Xs(n.toString())}Jn.exports=Js});var Qn=l((lf,zn)=>{"use strict";var Vs=require("path"),Kn=Mn(),Yn=Bn(),Ks=Vn(),Ys=process.platform==="win32",zs=/\.(?:com|exe)$/i,Qs=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Zs(e){e.file=Kn(e);let t=e.file&&Ks(e.file);return t?(e.args.unshift(e.file),e.command=t,Kn(e)):e.file}function ec(e){if(!Ys)return e;let t=Zs(e),n=!zs.test(t);if(e.options.forceShell||n){let r=Qs.test(t);e.command=Vs.normalize(e.command),e.command=Yn.command(e.command),e.args=e.args.map(o=>Yn.argument(o,r));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function tc(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null),t=t?t.slice(0):[],n=Object.assign({},n);let r={command:e,args:t,options:n,file:void 0,original:{command:e,args:t}};return n.shell?r:ec(r)}zn.exports=tc});var tr=l((ff,er)=>{"use strict";var At=process.platform==="win32";function Dt(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function nc(e,t){if(!At)return;let n=e.emit;e.emit=function(r,i){if(r==="exit"){let o=Zn(i,t,"spawn");if(o)return n.call(e,"error",o)}return n.apply(e,arguments)}}function Zn(e,t){return At&&e===1&&!t.file?Dt(t.original,"spawn"):null}function rc(e,t){return At&&e===1&&!t.file?Dt(t.original,"spawnSync"):null}er.exports={hookChildProcess:nc,verifyENOENT:Zn,verifyENOENTSync:rc,notFoundError:Dt}});var ir=l((mf,me)=>{"use strict";var nr=require("child_process"),Ot=Qn(),Rt=tr();function rr(e,t,n){let r=Ot(e,t,n),i=nr.spawn(r.command,r.args,r.options);return Rt.hookChildProcess(i,r),i}function ic(e,t,n){let r=Ot(e,t,n),i=nr.spawnSync(r.command,r.args,r.options);return i.error=i.error||Rt.verifyENOENTSync(i.status,r),i}me.exports=rr;me.exports.spawn=rr;me.exports.sync=ic;me.exports._parse=Ot;me.exports._enoent=Rt});var sr=l((df,or)=>{"use strict";or.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),n=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}});var ur=l((pf,qe)=>{"use strict";var be=require("path"),cr=Ct(),ar=e=>{e=g({cwd:process.cwd(),path:process.env[cr()],execPath:process.execPath},e);let t,n=be.resolve(e.cwd),r=[];for(;t!==n;)r.push(be.join(n,"node_modules/.bin")),t=n,n=be.resolve(n,"..");let i=be.resolve(e.cwd,e.execPath,"..");return r.push(i),r.concat(e.path).join(be.delimiter)};qe.exports=ar;qe.exports.default=ar;qe.exports.env=e=>{e=g({env:process.env},e);let t=g({},e.env),n=cr({env:t});return e.path=t[n],t[n]=qe.exports(e),t}});var fr=l((yf,Lt)=>{"use strict";var lr=(e,t)=>{for(let n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};Lt.exports=lr;Lt.exports.default=lr});var dr=l((hf,Ye)=>{"use strict";var oc=fr(),Ke=new WeakMap,mr=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let n,r=0,i=e.displayName||e.name||"<anonymous>",o=function(...s){if(Ke.set(o,++r),r===1)n=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return n};return oc(o,e),Ke.set(o,r),o};Ye.exports=mr;Ye.exports.default=mr;Ye.exports.callCount=e=>{if(!Ke.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Ke.get(e)}});var pr=l(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.SIGNALS=void 0;var sc=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];ze.SIGNALS=sc});var _t=l(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.SIGRTMAX=de.getRealtimeSignals=void 0;var cc=function(){let e=hr-yr+1;return Array.from({length:e},ac)};de.getRealtimeSignals=cc;var ac=function(e,t){return{name:`SIGRT${t+1}`,number:yr+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},yr=34,hr=64;de.SIGRTMAX=hr});var Sr=l(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getSignals=void 0;var uc=require("os"),lc=pr(),fc=_t(),mc=function(){let e=(0,fc.getRealtimeSignals)();return[...lc.SIGNALS,...e].map(dc)};Qe.getSignals=mc;var dc=function({name:e,number:t,description:n,action:r,forced:i=!1,standard:o}){let{signals:{[e]:s}}=uc.constants,c=s!==void 0;return{name:e,number:c?s:t,description:n,supported:c,action:r,forced:i,standard:o}}});var gr=l(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.signalsByNumber=pe.signalsByName=void 0;var pc=require("os"),wr=Sr(),yc=_t(),hc=function(){return(0,wr.getSignals)().reduce(Sc,{})},Sc=function(e,{name:t,number:n,description:r,supported:i,action:o,forced:s,standard:c}){return K(g({},e),{[t]:{name:t,number:n,description:r,supported:i,action:o,forced:s,standard:c}})},wc=hc();pe.signalsByName=wc;var gc=function(){let e=(0,wr.getSignals)(),t=yc.SIGRTMAX+1,n=Array.from({length:t},(r,i)=>xc(i,e));return Object.assign({},...n)},xc=function(e,t){let n=Fc(e,t);if(n===void 0)return{};let{name:r,description:i,supported:o,action:s,forced:c,standard:a}=n;return{[e]:{name:r,number:e,description:i,supported:o,action:s,forced:c,standard:a}}},Fc=function(e,t){let n=t.find(({name:r})=>pc.constants.signals[r]===e);return n!==void 0?n:t.find(r=>r.number===e)},vc=gc();pe.signalsByNumber=vc});var Fr=l((Ff,xr)=>{"use strict";var{signalsByName:Ec}=gr(),Tc=({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:i,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":n!==void 0?`failed with ${n}`:r!==void 0?`was killed with ${r} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",kc=({stdout:e,stderr:t,all:n,error:r,signal:i,exitCode:o,command:s,escapedCommand:c,timedOut:a,isCanceled:p,killed:u,parsed:{options:{timeout:f}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:Ec[i].description,m=r&&r.code,S=`Command ${Tc({timedOut:a,timeout:f,errorCode:m,signal:i,signalDescription:d,exitCode:o,isCanceled:p})}: ${s}`,w=Object.prototype.toString.call(r)==="[object Error]",k=w?`${S}
${r.message}`:S,I=[k,t,e].filter(Boolean).join(`
`);return w?(r.originalMessage=r.message,r.message=I):r=new Error(I),r.shortMessage=k,r.command=s,r.escapedCommand=c,r.exitCode=o,r.signal=i,r.signalDescription=d,r.stdout=e,r.stderr=t,n!==void 0&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(a),r.isCanceled=p,r.killed=u&&!a,r};xr.exports=kc});var Er=l((vf,Gt)=>{"use strict";var Ze=["stdin","stdout","stderr"],Pc=e=>Ze.some(t=>e[t]!==void 0),vr=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return Ze.map(r=>e[r]);if(Pc(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Ze.map(r=>`\`${r}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let n=Math.max(t.length,Ze.length);return Array.from({length:n},(r,i)=>t[i])};Gt.exports=vr;Gt.exports.node=e=>{let t=vr(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var Tr=l((Ef,et)=>{et.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&et.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&et.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var br=l((Tf,Se)=>{var P=global.process,ie=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};ie(P)?(kr=require("assert"),ye=Tr(),Pr=/^win/i.test(P.platform),Ne=require("events"),typeof Ne!="function"&&(Ne=Ne.EventEmitter),P.__signal_exit_emitter__?A=P.__signal_exit_emitter__:(A=P.__signal_exit_emitter__=new Ne,A.count=0,A.emitted={}),A.infinite||(A.setMaxListeners(1/0),A.infinite=!0),Se.exports=function(e,t){if(!ie(global.process))return function(){};kr.equal(typeof e,"function","a callback must be provided for exit handler"),he===!1&&$t();var n="exit";t&&t.alwaysLast&&(n="afterexit");var r=function(){A.removeListener(n,e),A.listeners("exit").length===0&&A.listeners("afterexit").length===0&&tt()};return A.on(n,e),r},tt=function(){!he||!ie(global.process)||(he=!1,ye.forEach(function(t){try{P.removeListener(t,nt[t])}catch{}}),P.emit=rt,P.reallyExit=jt,A.count-=1)},Se.exports.unload=tt,oe=function(t,n,r){A.emitted[t]||(A.emitted[t]=!0,A.emit(t,n,r))},nt={},ye.forEach(function(e){nt[e]=function(){if(!!ie(global.process)){var n=P.listeners(e);n.length===A.count&&(tt(),oe("exit",null,e),oe("afterexit",null,e),Pr&&e==="SIGHUP"&&(e="SIGINT"),P.kill(P.pid,e))}}}),Se.exports.signals=function(){return ye},he=!1,$t=function(){he||!ie(global.process)||(he=!0,A.count+=1,ye=ye.filter(function(t){try{return P.on(t,nt[t]),!0}catch{return!1}}),P.emit=Cr,P.reallyExit=Ir)},Se.exports.load=$t,jt=P.reallyExit,Ir=function(t){!ie(global.process)||(P.exitCode=t||0,oe("exit",P.exitCode,null),oe("afterexit",P.exitCode,null),jt.call(P,P.exitCode))},rt=P.emit,Cr=function(t,n){if(t==="exit"&&ie(global.process)){n!==void 0&&(P.exitCode=n);var r=rt.apply(this,arguments);return oe("exit",P.exitCode,null),oe("afterexit",P.exitCode,null),r}else return rt.apply(this,arguments)}):Se.exports=function(){return function(){}};var kr,ye,Pr,Ne,A,tt,oe,nt,he,$t,jt,Ir,rt,Cr});var Nr=l((kf,qr)=>{"use strict";var Ic=require("os"),Cc=br(),bc=1e3*5,qc=(e,t="SIGTERM",n={})=>{let r=e(t);return Nc(e,t,n,r),r},Nc=(e,t,n,r)=>{if(!Ac(t,n,r))return;let i=Oc(n),o=setTimeout(()=>{e("SIGKILL")},i);o.unref&&o.unref()},Ac=(e,{forceKillAfterTimeout:t},n)=>Dc(e)&&t!==!1&&n,Dc=e=>e===Ic.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",Oc=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return bc;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Rc=(e,t)=>{e.kill()&&(t.isCanceled=!0)},Lc=(e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},_c=(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(t===0||t===void 0)return r;let i,o=new Promise((c,a)=>{i=setTimeout(()=>{Lc(e,n,a)},t)}),s=r.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},Gc=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},$c=async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;let i=Cc(()=>{e.kill()});return r.finally(()=>{i()})};qr.exports={spawnedKill:qc,spawnedCancel:Rc,setupTimeout:_c,validateTimeout:Gc,setExitHandler:$c}});var Dr=l((Pf,Ar)=>{"use strict";var V=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";V.writable=e=>V(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";V.readable=e=>V(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";V.duplex=e=>V.writable(e)&&V.readable(e);V.transform=e=>V.duplex(e)&&typeof e._transform=="function";Ar.exports=V});var Rr=l((If,Or)=>{"use strict";var{PassThrough:jc}=require("stream");Or.exports=e=>{e=g({},e);let{array:t}=e,{encoding:n}=e,r=n==="buffer",i=!1;t?i=!(n||r):n=n||"utf8",r&&(n=null);let o=new jc({objectMode:i});n&&o.setEncoding(n);let s=0,c=[];return o.on("data",a=>{c.push(a),i?s=c.length:s+=a.length}),o.getBufferedValue=()=>t?c:r?Buffer.concat(c,s):c.join(""),o.getBufferedLength=()=>s,o}});var Lr=l((Cf,Ae)=>{"use strict";var{constants:Mc}=require("buffer"),Bc=require("stream"),{promisify:Wc}=require("util"),Uc=Rr(),Hc=Wc(Bc.pipeline),Mt=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function Bt(e,t){if(!e)throw new Error("Expected a stream");t=g({maxBuffer:1/0},t);let{maxBuffer:n}=t,r=Uc(t);return await new Promise((i,o)=>{let s=c=>{c&&r.getBufferedLength()<=Mc.MAX_LENGTH&&(c.bufferedData=r.getBufferedValue()),o(c)};(async()=>{try{await Hc(e,r),i()}catch(c){s(c)}})(),r.on("data",()=>{r.getBufferedLength()>n&&s(new Mt)})}),r.getBufferedValue()}Ae.exports=Bt;Ae.exports.buffer=(e,t)=>Bt(e,K(g({},t),{encoding:"buffer"}));Ae.exports.array=(e,t)=>Bt(e,K(g({},t),{array:!0}));Ae.exports.MaxBufferError=Mt});var Gr=l((bf,_r)=>{"use strict";var{PassThrough:Xc}=require("stream");_r.exports=function(){var e=[],t=new Xc({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=r,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(n),t;function n(o){return Array.isArray(o)?(o.forEach(n),this):(e.push(o),o.once("end",i.bind(null,o)),o.once("error",t.emit.bind(t,"error")),o.pipe(t,{end:!1}),this)}function r(){return e.length==0}function i(o){e=e.filter(function(s){return s!==o}),!e.length&&t.readable&&t.end()}}});var Br=l((qf,Mr)=>{"use strict";var jr=Dr(),$r=Lr(),Jc=Gr(),Vc=(e,t)=>{t===void 0||e.stdin===void 0||(jr(t)?t.pipe(e.stdin):e.stdin.end(t))},Kc=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let n=Jc();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},Wt=async(e,t)=>{if(!!e){e.destroy();try{return await t}catch(n){return n.bufferedData}}},Ut=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(!(!e||!n))return t?$r(e,{encoding:t,maxBuffer:r}):$r.buffer(e,{maxBuffer:r})},Yc=async({stdout:e,stderr:t,all:n},{encoding:r,buffer:i,maxBuffer:o},s)=>{let c=Ut(e,{encoding:r,buffer:i,maxBuffer:o}),a=Ut(t,{encoding:r,buffer:i,maxBuffer:o}),p=Ut(n,{encoding:r,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,c,a,p])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},Wt(e,c),Wt(t,a),Wt(n,p)])}},zc=({input:e})=>{if(jr(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Mr.exports={handleInput:Vc,makeAllStream:Kc,getSpawnedResult:Yc,validateInputSync:zc}});var Ur=l((Nf,Wr)=>{"use strict";var Qc=(async()=>{})().constructor.prototype,Zc=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Qc,e)]),ea=(e,t)=>{for(let[n,r]of Zc){let i=typeof t=="function"?(...o)=>Reflect.apply(r.value,t(),o):r.value.bind(t);Reflect.defineProperty(e,n,K(g({},r),{value:i}))}return e},ta=e=>new Promise((t,n)=>{e.on("exit",(r,i)=>{t({exitCode:r,signal:i})}),e.on("error",r=>{n(r)}),e.stdin&&e.stdin.on("error",r=>{n(r)})});Wr.exports={mergePromise:ea,getSpawnedPromise:ta}});var Jr=l((Af,Xr)=>{"use strict";var Hr=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],na=/^[\w.-]+$/,ra=/"/g,ia=e=>typeof e!="string"||na.test(e)?e:`"${e.replace(ra,'\\"')}"`,oa=(e,t)=>Hr(e,t).join(" "),sa=(e,t)=>Hr(e,t).map(n=>ia(n)).join(" "),ca=/ +/g,aa=e=>{let t=[];for(let n of e.trim().split(ca)){let r=t[t.length-1];r&&r.endsWith("\\")?t[t.length-1]=`${r.slice(0,-1)} ${n}`:t.push(n)}return t};Xr.exports={joinCommand:oa,getEscapedCommand:sa,parseCommand:aa}});var ei=l((Df,we)=>{"use strict";var ua=require("path"),Ht=require("child_process"),la=ir(),fa=sr(),ma=ur(),da=dr(),it=Fr(),Kr=Er(),{spawnedKill:pa,spawnedCancel:ya,setupTimeout:ha,validateTimeout:Sa,setExitHandler:wa}=Nr(),{handleInput:ga,getSpawnedResult:xa,makeAllStream:Fa,validateInputSync:va}=Br(),{mergePromise:Vr,getSpawnedPromise:Ea}=Ur(),{joinCommand:Yr,parseCommand:zr,getEscapedCommand:Qr}=Jr(),Ta=1e3*1e3*100,ka=({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:i})=>{let o=t?g(g({},process.env),e):e;return n?ma.env({env:o,cwd:r,execPath:i}):o},Zr=(e,t,n={})=>{let r=la._parse(e,t,n);return e=r.command,t=r.args,n=r.options,n=g({maxBuffer:Ta,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:n.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0},n),n.env=ka(n),n.stdio=Kr(n),process.platform==="win32"&&ua.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:n,parsed:r}},De=(e,t,n)=>typeof t!="string"&&!Buffer.isBuffer(t)?n===void 0?void 0:"":e.stripFinalNewline?fa(t):t,ot=(e,t,n)=>{let r=Zr(e,t,n),i=Yr(e,t),o=Qr(e,t);Sa(r.options);let s;try{s=Ht.spawn(r.file,r.args,r.options)}catch(m){let y=new Ht.ChildProcess,S=Promise.reject(it({error:m,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return Vr(y,S)}let c=Ea(s),a=ha(s,r.options,c),p=wa(s,r.options,a),u={isCanceled:!1};s.kill=pa.bind(null,s.kill.bind(s)),s.cancel=ya.bind(null,s,u);let d=da(async()=>{let[{error:m,exitCode:y,signal:S,timedOut:w},k,I,ne]=await xa(s,r.options,p),re=De(r.options,k),Pe=De(r.options,I),Ie=De(r.options,ne);if(m||y!==0||S!==null){let le=it({error:m,exitCode:y,signal:S,stdout:re,stderr:Pe,all:Ie,command:i,escapedCommand:o,parsed:r,timedOut:w,isCanceled:u.isCanceled,killed:s.killed});if(!r.options.reject)return le;throw le}return{command:i,escapedCommand:o,exitCode:0,stdout:re,stderr:Pe,all:Ie,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return ga(s,r.options.input),s.all=Fa(s,r.options),Vr(s,d)};we.exports=ot;we.exports.sync=(e,t,n)=>{let r=Zr(e,t,n),i=Yr(e,t),o=Qr(e,t);va(r.options);let s;try{s=Ht.spawnSync(r.file,r.args,r.options)}catch(p){throw it({error:p,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}let c=De(r.options,s.stdout,s.error),a=De(r.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let p=it({stdout:c,stderr:a,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:r,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!r.options.reject)return p;throw p}return{command:i,escapedCommand:o,exitCode:0,stdout:c,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};we.exports.command=(e,t)=>{let[n,...r]=zr(e);return ot(n,r,t)};we.exports.commandSync=(e,t)=>{let[n,...r]=zr(e);return ot.sync(n,r,t)};we.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(n=t,t=[]);let r=Kr.node(n),i=process.execArgv.filter(c=>!c.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=n;return ot(o,[...s,e,...Array.isArray(t)?t:[]],K(g({},n),{stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1}))}});var B=l(Xt=>{"use strict";Xt.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((n,r)=>{e.call(this,...t,(i,o)=>i!=null?r(i):n(o))})},"name",{value:e.name})};Xt.fromPromise=function(e){return Object.defineProperty(function(...t){let n=t[t.length-1];if(typeof n!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(r=>n(null,r),n)},"name",{value:e.name})}});var oi=l((Lf,ii)=>{var Y=require("constants"),Pa=process.cwd,st=null,Ia=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return st||(st=Pa.call(process)),st};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Jt=process.chdir,process.chdir=function(e){st=null,Jt.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Jt));var Jt;ii.exports=Ca;function Ca(e){Y.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||n(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=r(e.chmod),e.fchmod=r(e.fchmod),e.lchmod=r(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=a(e.statSync),e.fstatSync=a(e.fstatSync),e.lstatSync=a(e.lstatSync),e.lchmod||(e.lchmod=function(u,f,d){d&&process.nextTick(d)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(u,f,d,m){m&&process.nextTick(m)},e.lchownSync=function(){}),Ia==="win32"&&(e.rename=function(u){return function(f,d,m){var y=Date.now(),S=0;u(f,d,function w(k){if(k&&(k.code==="EACCES"||k.code==="EPERM")&&Date.now()-y<6e4){setTimeout(function(){e.stat(d,function(I,ne){I&&I.code==="ENOENT"?u(f,d,w):m(k)})},S),S<100&&(S+=10);return}m&&m(k)})}}(e.rename)),e.read=function(u){function f(d,m,y,S,w,k){var I;if(k&&typeof k=="function"){var ne=0;I=function(re,Pe,Ie){if(re&&re.code==="EAGAIN"&&ne<10)return ne++,u.call(e,d,m,y,S,w,I);k.apply(this,arguments)}}return u.call(e,d,m,y,S,w,I)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f}(e.read),e.readSync=function(u){return function(f,d,m,y,S){for(var w=0;;)try{return u.call(e,f,d,m,y,S)}catch(k){if(k.code==="EAGAIN"&&w<10){w++;continue}throw k}}}(e.readSync);function t(u){u.lchmod=function(f,d,m){u.open(f,Y.O_WRONLY|Y.O_SYMLINK,d,function(y,S){if(y){m&&m(y);return}u.fchmod(S,d,function(w){u.close(S,function(k){m&&m(w||k)})})})},u.lchmodSync=function(f,d){var m=u.openSync(f,Y.O_WRONLY|Y.O_SYMLINK,d),y=!0,S;try{S=u.fchmodSync(m,d),y=!1}finally{if(y)try{u.closeSync(m)}catch{}else u.closeSync(m)}return S}}function n(u){Y.hasOwnProperty("O_SYMLINK")?(u.lutimes=function(f,d,m,y){u.open(f,Y.O_SYMLINK,function(S,w){if(S){y&&y(S);return}u.futimes(w,d,m,function(k){u.close(w,function(I){y&&y(k||I)})})})},u.lutimesSync=function(f,d,m){var y=u.openSync(f,Y.O_SYMLINK),S,w=!0;try{S=u.futimesSync(y,d,m),w=!1}finally{if(w)try{u.closeSync(y)}catch{}else u.closeSync(y)}return S}):(u.lutimes=function(f,d,m,y){y&&process.nextTick(y)},u.lutimesSync=function(){})}function r(u){return u&&function(f,d,m){return u.call(e,f,d,function(y){p(y)&&(y=null),m&&m.apply(this,arguments)})}}function i(u){return u&&function(f,d){try{return u.call(e,f,d)}catch(m){if(!p(m))throw m}}}function o(u){return u&&function(f,d,m,y){return u.call(e,f,d,m,function(S){p(S)&&(S=null),y&&y.apply(this,arguments)})}}function s(u){return u&&function(f,d,m){try{return u.call(e,f,d,m)}catch(y){if(!p(y))throw y}}}function c(u){return u&&function(f,d,m){typeof d=="function"&&(m=d,d=null);function y(S,w){w&&(w.uid<0&&(w.uid+=4294967296),w.gid<0&&(w.gid+=4294967296)),m&&m.apply(this,arguments)}return d?u.call(e,f,d,y):u.call(e,f,y)}}function a(u){return u&&function(f,d){var m=d?u.call(e,f,d):u.call(e,f);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function p(u){if(!u||u.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var ai=l((_f,ci)=>{var si=require("stream").Stream;ci.exports=ba;function ba(e){return{ReadStream:t,WriteStream:n};function t(r,i){if(!(this instanceof t))return new t(r,i);si.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),c=0,a=s.length;c<a;c++){var p=s[c];this[p]=i[p]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(u,f){if(u){o.emit("error",u),o.readable=!1;return}o.fd=f,o.emit("open",f),o._read()})}function n(r,i){if(!(this instanceof n))return new n(r,i);si.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,c=o.length;s<c;s++){var a=o[s];this[a]=i[a]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var li=l((Gf,ui)=>{"use strict";ui.exports=Na;var qa=Object.getPrototypeOf||function(e){return e.__proto__};function Na(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:qa(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}});var j=l(($f,Yt)=>{var C=require("fs"),Aa=oi(),Da=ai(),Oa=li(),ct=require("util"),_,ut;typeof Symbol=="function"&&typeof Symbol.for=="function"?(_=Symbol.for("graceful-fs.queue"),ut=Symbol.for("graceful-fs.previous")):(_="___graceful-fs.queue",ut="___graceful-fs.previous");function Ra(){}function di(e,t){Object.defineProperty(e,_,{get:function(){return t}})}var se=Ra;ct.debuglog?se=ct.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(se=function(){var e=ct.format.apply(ct,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});C[_]||(fi=global[_]||[],di(C,fi),C.close=function(e){function t(n,r){return e.call(C,n,function(i){i||mi(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(t,ut,{value:e}),t}(C.close),C.closeSync=function(e){function t(n){e.apply(C,arguments),mi()}return Object.defineProperty(t,ut,{value:e}),t}(C.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){se(C[_]),require("assert").equal(C[_].length,0)}));var fi;global[_]||di(global,C[_]);Yt.exports=Vt(Oa(C));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!C.__patched&&(Yt.exports=Vt(C),C.__patched=!0);function Vt(e){Aa(e),e.gracefulify=Vt,e.createReadStream=re,e.createWriteStream=Pe;var t=e.readFile;e.readFile=n;function n(h,v,F){return typeof v=="function"&&(F=v,v=null),O(h,v,F);function O(R,L,q,$){return t(R,L,function(T){T&&(T.code==="EMFILE"||T.code==="ENFILE")?ge([O,[R,L,q],T,$||Date.now(),Date.now()]):typeof q=="function"&&q.apply(this,arguments)})}}var r=e.writeFile;e.writeFile=i;function i(h,v,F,O){return typeof F=="function"&&(O=F,F=null),R(h,v,F,O);function R(L,q,$,T,H){return r(L,q,$,function(N){N&&(N.code==="EMFILE"||N.code==="ENFILE")?ge([R,[L,q,$,T],N,H||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=s);function s(h,v,F,O){return typeof F=="function"&&(O=F,F=null),R(h,v,F,O);function R(L,q,$,T,H){return o(L,q,$,function(N){N&&(N.code==="EMFILE"||N.code==="ENFILE")?ge([R,[L,q,$,T],N,H||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var c=e.copyFile;c&&(e.copyFile=a);function a(h,v,F,O){return typeof F=="function"&&(O=F,F=0),R(h,v,F,O);function R(L,q,$,T,H){return c(L,q,$,function(N){N&&(N.code==="EMFILE"||N.code==="ENFILE")?ge([R,[L,q,$,T],N,H||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var p=e.readdir;e.readdir=u;function u(h,v,F){return typeof v=="function"&&(F=v,v=null),O(h,v,F);function O(R,L,q,$){return p(R,L,function(T,H){T&&(T.code==="EMFILE"||T.code==="ENFILE")?ge([O,[R,L,q],T,$||Date.now(),Date.now()]):(H&&H.sort&&H.sort(),typeof q=="function"&&q.call(this,T,H))})}}if(process.version.substr(0,4)==="v0.8"){var f=Da(e);w=f.ReadStream,I=f.WriteStream}var d=e.ReadStream;d&&(w.prototype=Object.create(d.prototype),w.prototype.open=k);var m=e.WriteStream;m&&(I.prototype=Object.create(m.prototype),I.prototype.open=ne),Object.defineProperty(e,"ReadStream",{get:function(){return w},set:function(h){w=h},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return I},set:function(h){I=h},enumerable:!0,configurable:!0});var y=w;Object.defineProperty(e,"FileReadStream",{get:function(){return y},set:function(h){y=h},enumerable:!0,configurable:!0});var S=I;Object.defineProperty(e,"FileWriteStream",{get:function(){return S},set:function(h){S=h},enumerable:!0,configurable:!0});function w(h,v){return this instanceof w?(d.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}function k(){var h=this;le(h.path,h.flags,h.mode,function(v,F){v?(h.autoClose&&h.destroy(),h.emit("error",v)):(h.fd=F,h.emit("open",F),h.read())})}function I(h,v){return this instanceof I?(m.apply(this,arguments),this):I.apply(Object.create(I.prototype),arguments)}function ne(){var h=this;le(h.path,h.flags,h.mode,function(v,F){v?(h.destroy(),h.emit("error",v)):(h.fd=F,h.emit("open",F))})}function re(h,v){return new e.ReadStream(h,v)}function Pe(h,v){return new e.WriteStream(h,v)}var Ie=e.open;e.open=le;function le(h,v,F,O){return typeof F=="function"&&(O=F,F=null),R(h,v,F,O);function R(L,q,$,T,H){return Ie(L,q,$,function(N,Yl){N&&(N.code==="EMFILE"||N.code==="ENFILE")?ge([R,[L,q,$,T],N,H||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}return e}function ge(e){se("ENQUEUE",e[0].name,e[1]),C[_].push(e),Kt()}var at;function mi(){for(var e=Date.now(),t=0;t<C[_].length;++t)C[_][t].length>2&&(C[_][t][3]=e,C[_][t][4]=e);Kt()}function Kt(){if(clearTimeout(at),at=void 0,C[_].length!==0){var e=C[_].shift(),t=e[0],n=e[1],r=e[2],i=e[3],o=e[4];if(i===void 0)se("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-i>=6e4){se("TIMEOUT",t.name,n);var s=n.pop();typeof s=="function"&&s.call(null,r)}else{var c=Date.now()-o,a=Math.max(o-i,1),p=Math.min(a*1.2,100);c>=p?(se("RETRY",t.name,n),t.apply(null,n.concat([i]))):C[_].push(e)}at===void 0&&(at=setTimeout(Kt,0))}}});var ce=l(z=>{"use strict";var pi=B().fromCallback,W=j(),La=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof W[e]=="function");Object.assign(z,W);La.forEach(e=>{z[e]=pi(W[e])});z.exists=function(e,t){return typeof t=="function"?W.exists(e,t):new Promise(n=>W.exists(e,n))};z.read=function(e,t,n,r,i,o){return typeof o=="function"?W.read(e,t,n,r,i,o):new Promise((s,c)=>{W.read(e,t,n,r,i,(a,p,u)=>{if(a)return c(a);s({bytesRead:p,buffer:u})})})};z.write=function(e,t,...n){return typeof n[n.length-1]=="function"?W.write(e,t,...n):new Promise((r,i)=>{W.write(e,t,...n,(o,s,c)=>{if(o)return i(o);r({bytesWritten:s,buffer:c})})})};typeof W.writev=="function"&&(z.writev=function(e,t,...n){return typeof n[n.length-1]=="function"?W.writev(e,t,...n):new Promise((r,i)=>{W.writev(e,t,...n,(o,s,c)=>{if(o)return i(o);r({bytesWritten:s,buffers:c})})})});typeof W.realpath.native=="function"?z.realpath.native=pi(W.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var hi=l((Mf,yi)=>{"use strict";var _a=require("path");yi.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(_a.parse(t).root,""))){let r=new Error(`Path contains invalid characters: ${t}`);throw r.code="EINVAL",r}}});var xi=l((Bf,zt)=>{"use strict";var Si=ce(),{checkPath:wi}=hi(),gi=e=>{let t={mode:511};return typeof e=="number"?e:g(g({},t),e).mode};zt.exports.makeDir=async(e,t)=>(wi(e),Si.mkdir(e,{mode:gi(t),recursive:!0}));zt.exports.makeDirSync=(e,t)=>(wi(e),Si.mkdirSync(e,{mode:gi(t),recursive:!0}))});var X=l((Wf,Fi)=>{"use strict";var Ga=B().fromPromise,{makeDir:$a,makeDirSync:Qt}=xi(),Zt=Ga($a);Fi.exports={mkdirs:Zt,mkdirsSync:Qt,mkdirp:Zt,mkdirpSync:Qt,ensureDir:Zt,ensureDirSync:Qt}});var Q=l((Uf,Ei)=>{"use strict";var ja=B().fromPromise,vi=ce();function Ma(e){return vi.access(e).then(()=>!0).catch(()=>!1)}Ei.exports={pathExists:ja(Ma),pathExistsSync:vi.existsSync}});var en=l((Hf,Ti)=>{"use strict";var xe=j();function Ba(e,t,n,r){xe.open(e,"r+",(i,o)=>{if(i)return r(i);xe.futimes(o,t,n,s=>{xe.close(o,c=>{r&&r(s||c)})})})}function Wa(e,t,n){let r=xe.openSync(e,"r+");return xe.futimesSync(r,t,n),xe.closeSync(r)}Ti.exports={utimesMillis:Ba,utimesMillisSync:Wa}});var ae=l((Xf,Ii)=>{"use strict";var Fe=ce(),D=require("path"),Ua=require("util");function Ha(e,t,n){let r=n.dereference?i=>Fe.stat(i,{bigint:!0}):i=>Fe.lstat(i,{bigint:!0});return Promise.all([r(e),r(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function Xa(e,t,n){let r,i=n.dereference?s=>Fe.statSync(s,{bigint:!0}):s=>Fe.lstatSync(s,{bigint:!0}),o=i(e);try{r=i(t)}catch(s){if(s.code==="ENOENT")return{srcStat:o,destStat:null};throw s}return{srcStat:o,destStat:r}}function Ja(e,t,n,r,i){Ua.callbackify(Ha)(e,t,r,(o,s)=>{if(o)return i(o);let{srcStat:c,destStat:a}=s;if(a){if(Oe(c,a)){let p=D.basename(e),u=D.basename(t);return n==="move"&&p!==u&&p.toLowerCase()===u.toLowerCase()?i(null,{srcStat:c,destStat:a,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(c.isDirectory()&&!a.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!c.isDirectory()&&a.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return c.isDirectory()&&tn(e,t)?i(new Error(lt(e,t,n))):i(null,{srcStat:c,destStat:a})})}function Va(e,t,n,r){let{srcStat:i,destStat:o}=Xa(e,t,r);if(o){if(Oe(i,o)){let s=D.basename(e),c=D.basename(t);if(n==="move"&&s!==c&&s.toLowerCase()===c.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&tn(e,t))throw new Error(lt(e,t,n));return{srcStat:i,destStat:o}}function ki(e,t,n,r,i){let o=D.resolve(D.dirname(e)),s=D.resolve(D.dirname(n));if(s===o||s===D.parse(s).root)return i();Fe.stat(s,{bigint:!0},(c,a)=>c?c.code==="ENOENT"?i():i(c):Oe(t,a)?i(new Error(lt(e,n,r))):ki(e,t,s,r,i))}function Pi(e,t,n,r){let i=D.resolve(D.dirname(e)),o=D.resolve(D.dirname(n));if(o===i||o===D.parse(o).root)return;let s;try{s=Fe.statSync(o,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(Oe(t,s))throw new Error(lt(e,n,r));return Pi(e,t,o,r)}function Oe(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function tn(e,t){let n=D.resolve(e).split(D.sep).filter(i=>i),r=D.resolve(t).split(D.sep).filter(i=>i);return n.reduce((i,o,s)=>i&&r[s]===o,!0)}function lt(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}Ii.exports={checkPaths:Ja,checkPathsSync:Va,checkParentPaths:ki,checkParentPathsSync:Pi,isSrcSubdir:tn,areIdentical:Oe}});var Ri=l((Jf,Oi)=>{"use strict";var U=j(),Re=require("path"),Ka=X().mkdirs,Ya=Q().pathExists,za=en().utimesMillis,Le=ae();function Qa(e,t,n,r){typeof n=="function"&&!r?(r=n,n={}):typeof n=="function"&&(n={filter:n}),r=r||function(){},n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),Le.checkPaths(e,t,"copy",n,(i,o)=>{if(i)return r(i);let{srcStat:s,destStat:c}=o;Le.checkParentPaths(e,s,t,"copy",a=>a?r(a):n.filter?qi(Ci,c,e,t,n,r):Ci(c,e,t,n,r))})}function Ci(e,t,n,r,i){let o=Re.dirname(n);Ya(o,(s,c)=>{if(s)return i(s);if(c)return ft(e,t,n,r,i);Ka(o,a=>a?i(a):ft(e,t,n,r,i))})}function qi(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then(s=>s?e(t,n,r,i,o):o(),s=>o(s))}function Za(e,t,n,r,i){return r.filter?qi(ft,e,t,n,r,i):ft(e,t,n,r,i)}function ft(e,t,n,r,i){(r.dereference?U.stat:U.lstat)(t,(s,c)=>s?i(s):c.isDirectory()?su(c,e,t,n,r,i):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?eu(c,e,t,n,r,i):c.isSymbolicLink()?uu(e,t,n,r,i):c.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):c.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function eu(e,t,n,r,i,o){return t?tu(e,n,r,i,o):Ni(e,n,r,i,o)}function tu(e,t,n,r,i){if(r.overwrite)U.unlink(n,o=>o?i(o):Ni(e,t,n,r,i));else return r.errorOnExist?i(new Error(`'${n}' already exists`)):i()}function Ni(e,t,n,r,i){U.copyFile(t,n,o=>o?i(o):r.preserveTimestamps?nu(e.mode,t,n,i):mt(n,e.mode,i))}function nu(e,t,n,r){return ru(e)?iu(n,e,i=>i?r(i):bi(e,t,n,r)):bi(e,t,n,r)}function ru(e){return(e&128)===0}function iu(e,t,n){return mt(e,t|128,n)}function bi(e,t,n,r){ou(t,n,i=>i?r(i):mt(n,e,r))}function mt(e,t,n){return U.chmod(e,t,n)}function ou(e,t,n){U.stat(e,(r,i)=>r?n(r):za(t,i.atime,i.mtime,n))}function su(e,t,n,r,i,o){return t?Ai(n,r,i,o):cu(e.mode,n,r,i,o)}function cu(e,t,n,r,i){U.mkdir(n,o=>{if(o)return i(o);Ai(t,n,r,s=>s?i(s):mt(n,e,i))})}function Ai(e,t,n,r){U.readdir(e,(i,o)=>i?r(i):Di(o,e,t,n,r))}function Di(e,t,n,r,i){let o=e.pop();return o?au(e,o,t,n,r,i):i()}function au(e,t,n,r,i,o){let s=Re.join(n,t),c=Re.join(r,t);Le.checkPaths(s,c,"copy",i,(a,p)=>{if(a)return o(a);let{destStat:u}=p;Za(u,s,c,i,f=>f?o(f):Di(e,n,r,i,o))})}function uu(e,t,n,r,i){U.readlink(t,(o,s)=>{if(o)return i(o);if(r.dereference&&(s=Re.resolve(process.cwd(),s)),e)U.readlink(n,(c,a)=>c?c.code==="EINVAL"||c.code==="UNKNOWN"?U.symlink(s,n,i):i(c):(r.dereference&&(a=Re.resolve(process.cwd(),a)),Le.isSrcSubdir(s,a)?i(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`)):e.isDirectory()&&Le.isSrcSubdir(a,s)?i(new Error(`Cannot overwrite '${a}' with '${s}'.`)):lu(s,n,i)));else return U.symlink(s,n,i)})}function lu(e,t,n){U.unlink(t,r=>r?n(r):U.symlink(e,t,n))}Oi.exports=Qa});var ji=l((Vf,$i)=>{"use strict";var G=j(),_e=require("path"),fu=X().mkdirsSync,mu=en().utimesMillisSync,Ge=ae();function du(e,t,n){typeof n=="function"&&(n={filter:n}),n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:r,destStat:i}=Ge.checkPathsSync(e,t,"copy",n);return Ge.checkParentPathsSync(e,r,t,"copy"),pu(i,e,t,n)}function pu(e,t,n,r){if(r.filter&&!r.filter(t,n))return;let i=_e.dirname(n);return G.existsSync(i)||fu(i),Li(e,t,n,r)}function yu(e,t,n,r){if(!(r.filter&&!r.filter(t,n)))return Li(e,t,n,r)}function Li(e,t,n,r){let o=(r.dereference?G.statSync:G.lstatSync)(t);if(o.isDirectory())return vu(o,e,t,n,r);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return hu(o,e,t,n,r);if(o.isSymbolicLink())return ku(e,t,n,r);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function hu(e,t,n,r,i){return t?Su(e,n,r,i):_i(e,n,r,i)}function Su(e,t,n,r){if(r.overwrite)return G.unlinkSync(n),_i(e,t,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}function _i(e,t,n,r){return G.copyFileSync(t,n),r.preserveTimestamps&&wu(e.mode,t,n),nn(n,e.mode)}function wu(e,t,n){return gu(e)&&xu(n,e),Fu(t,n)}function gu(e){return(e&128)===0}function xu(e,t){return nn(e,t|128)}function nn(e,t){return G.chmodSync(e,t)}function Fu(e,t){let n=G.statSync(e);return mu(t,n.atime,n.mtime)}function vu(e,t,n,r,i){return t?Gi(n,r,i):Eu(e.mode,n,r,i)}function Eu(e,t,n,r){return G.mkdirSync(n),Gi(t,n,r),nn(n,e)}function Gi(e,t,n){G.readdirSync(e).forEach(r=>Tu(r,e,t,n))}function Tu(e,t,n,r){let i=_e.join(t,e),o=_e.join(n,e),{destStat:s}=Ge.checkPathsSync(i,o,"copy",r);return yu(s,i,o,r)}function ku(e,t,n,r){let i=G.readlinkSync(t);if(r.dereference&&(i=_e.resolve(process.cwd(),i)),e){let o;try{o=G.readlinkSync(n)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return G.symlinkSync(i,n);throw s}if(r.dereference&&(o=_e.resolve(process.cwd(),o)),Ge.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(G.statSync(n).isDirectory()&&Ge.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return Pu(i,n)}else return G.symlinkSync(i,n)}function Pu(e,t){return G.unlinkSync(t),G.symlinkSync(e,t)}$i.exports=du});var dt=l((Kf,Mi)=>{"use strict";var Iu=B().fromCallback;Mi.exports={copy:Iu(Ri()),copySync:ji()}});var Yi=l((Yf,Ki)=>{"use strict";var Bi=j(),Xi=require("path"),E=require("assert"),$e=process.platform==="win32";function Ji(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(n=>{e[n]=e[n]||Bi[n],n=n+"Sync",e[n]=e[n]||Bi[n]}),e.maxBusyTries=e.maxBusyTries||3}function rn(e,t,n){let r=0;typeof t=="function"&&(n=t,t={}),E(e,"rimraf: missing path"),E.strictEqual(typeof e,"string","rimraf: path should be a string"),E.strictEqual(typeof n,"function","rimraf: callback function required"),E(t,"rimraf: invalid options argument provided"),E.strictEqual(typeof t,"object","rimraf: options should be object"),Ji(t),Wi(e,t,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&r<t.maxBusyTries){r++;let s=r*100;return setTimeout(()=>Wi(e,t,i),s)}o.code==="ENOENT"&&(o=null)}n(o)})}function Wi(e,t,n){E(e),E(t),E(typeof n=="function"),t.lstat(e,(r,i)=>{if(r&&r.code==="ENOENT")return n(null);if(r&&r.code==="EPERM"&&$e)return Ui(e,t,r,n);if(i&&i.isDirectory())return pt(e,t,r,n);t.unlink(e,o=>{if(o){if(o.code==="ENOENT")return n(null);if(o.code==="EPERM")return $e?Ui(e,t,o,n):pt(e,t,o,n);if(o.code==="EISDIR")return pt(e,t,o,n)}return n(o)})})}function Ui(e,t,n,r){E(e),E(t),E(typeof r=="function"),t.chmod(e,438,i=>{i?r(i.code==="ENOENT"?null:n):t.stat(e,(o,s)=>{o?r(o.code==="ENOENT"?null:n):s.isDirectory()?pt(e,t,n,r):t.unlink(e,r)})})}function Hi(e,t,n){let r;E(e),E(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw n}try{r=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw n}r.isDirectory()?yt(e,t,n):t.unlinkSync(e)}function pt(e,t,n,r){E(e),E(t),E(typeof r=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Cu(e,t,r):i&&i.code==="ENOTDIR"?r(n):r(i)})}function Cu(e,t,n){E(e),E(t),E(typeof n=="function"),t.readdir(e,(r,i)=>{if(r)return n(r);let o=i.length,s;if(o===0)return t.rmdir(e,n);i.forEach(c=>{rn(Xi.join(e,c),t,a=>{if(!s){if(a)return n(s=a);--o===0&&t.rmdir(e,n)}})})})}function Vi(e,t){let n;t=t||{},Ji(t),E(e,"rimraf: missing path"),E.strictEqual(typeof e,"string","rimraf: path should be a string"),E(t,"rimraf: missing options"),E.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(r){if(r.code==="ENOENT")return;r.code==="EPERM"&&$e&&Hi(e,t,r)}try{n&&n.isDirectory()?yt(e,t,null):t.unlinkSync(e)}catch(r){if(r.code==="ENOENT")return;if(r.code==="EPERM")return $e?Hi(e,t,r):yt(e,t,r);if(r.code!=="EISDIR")throw r;yt(e,t,r)}}function yt(e,t,n){E(e),E(t);try{t.rmdirSync(e)}catch(r){if(r.code==="ENOTDIR")throw n;if(r.code==="ENOTEMPTY"||r.code==="EEXIST"||r.code==="EPERM")bu(e,t);else if(r.code!=="ENOENT")throw r}}function bu(e,t){if(E(e),E(t),t.readdirSync(e).forEach(n=>Vi(Xi.join(e,n),t)),$e){let n=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-n<500)}else return t.rmdirSync(e,t)}Ki.exports=rn;rn.sync=Vi});var je=l((zf,Qi)=>{"use strict";var ht=j(),qu=B().fromCallback,zi=Yi();function Nu(e,t){if(ht.rm)return ht.rm(e,{recursive:!0,force:!0},t);zi(e,t)}function Au(e){if(ht.rmSync)return ht.rmSync(e,{recursive:!0,force:!0});zi.sync(e)}Qi.exports={remove:qu(Nu),removeSync:Au}});var so=l((Qf,oo)=>{"use strict";var Du=B().fromPromise,to=ce(),no=require("path"),ro=X(),io=je(),Zi=Du(async function(t){let n;try{n=await to.readdir(t)}catch{return ro.mkdirs(t)}return Promise.all(n.map(r=>io.remove(no.join(t,r))))});function eo(e){let t;try{t=to.readdirSync(e)}catch{return ro.mkdirsSync(e)}t.forEach(n=>{n=no.join(e,n),io.removeSync(n)})}oo.exports={emptyDirSync:eo,emptydirSync:eo,emptyDir:Zi,emptydir:Zi}});var lo=l((Zf,uo)=>{"use strict";var Ou=B().fromCallback,co=require("path"),Z=j(),ao=X();function Ru(e,t){function n(){Z.writeFile(e,"",r=>{if(r)return t(r);t()})}Z.stat(e,(r,i)=>{if(!r&&i.isFile())return t();let o=co.dirname(e);Z.stat(o,(s,c)=>{if(s)return s.code==="ENOENT"?ao.mkdirs(o,a=>{if(a)return t(a);n()}):t(s);c.isDirectory()?n():Z.readdir(o,a=>{if(a)return t(a)})})})}function Lu(e){let t;try{t=Z.statSync(e)}catch{}if(t&&t.isFile())return;let n=co.dirname(e);try{Z.statSync(n).isDirectory()||Z.readdirSync(n)}catch(r){if(r&&r.code==="ENOENT")ao.mkdirsSync(n);else throw r}Z.writeFileSync(e,"")}uo.exports={createFile:Ou(Ru),createFileSync:Lu}});var ho=l((em,yo)=>{"use strict";var _u=B().fromCallback,fo=require("path"),ee=j(),mo=X(),Gu=Q().pathExists,{areIdentical:po}=ae();function $u(e,t,n){function r(i,o){ee.link(i,o,s=>{if(s)return n(s);n(null)})}ee.lstat(t,(i,o)=>{ee.lstat(e,(s,c)=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),n(s);if(o&&po(c,o))return n(null);let a=fo.dirname(t);Gu(a,(p,u)=>{if(p)return n(p);if(u)return r(e,t);mo.mkdirs(a,f=>{if(f)return n(f);r(e,t)})})})})}function ju(e,t){let n;try{n=ee.lstatSync(t)}catch{}try{let o=ee.lstatSync(e);if(n&&po(o,n))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let r=fo.dirname(t);return ee.existsSync(r)||mo.mkdirsSync(r),ee.linkSync(e,t)}yo.exports={createLink:_u($u),createLinkSync:ju}});var wo=l((tm,So)=>{"use strict";var te=require("path"),Me=j(),Mu=Q().pathExists;function Bu(e,t,n){if(te.isAbsolute(e))return Me.lstat(e,r=>r?(r.message=r.message.replace("lstat","ensureSymlink"),n(r)):n(null,{toCwd:e,toDst:e}));{let r=te.dirname(t),i=te.join(r,e);return Mu(i,(o,s)=>o?n(o):s?n(null,{toCwd:i,toDst:e}):Me.lstat(e,c=>c?(c.message=c.message.replace("lstat","ensureSymlink"),n(c)):n(null,{toCwd:e,toDst:te.relative(r,e)})))}}function Wu(e,t){let n;if(te.isAbsolute(e)){if(n=Me.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let r=te.dirname(t),i=te.join(r,e);if(n=Me.existsSync(i),n)return{toCwd:i,toDst:e};if(n=Me.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:te.relative(r,e)}}}So.exports={symlinkPaths:Bu,symlinkPathsSync:Wu}});var Fo=l((nm,xo)=>{"use strict";var go=j();function Uu(e,t,n){if(n=typeof t=="function"?t:n,t=typeof t=="function"?!1:t,t)return n(null,t);go.lstat(e,(r,i)=>{if(r)return n(null,"file");t=i&&i.isDirectory()?"dir":"file",n(null,t)})}function Hu(e,t){let n;if(t)return t;try{n=go.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}xo.exports={symlinkType:Uu,symlinkTypeSync:Hu}});var bo=l((rm,Co)=>{"use strict";var Xu=B().fromCallback,Eo=require("path"),J=ce(),To=X(),Ju=To.mkdirs,Vu=To.mkdirsSync,ko=wo(),Ku=ko.symlinkPaths,Yu=ko.symlinkPathsSync,Po=Fo(),zu=Po.symlinkType,Qu=Po.symlinkTypeSync,Zu=Q().pathExists,{areIdentical:Io}=ae();function el(e,t,n,r){r=typeof n=="function"?n:r,n=typeof n=="function"?!1:n,J.lstat(t,(i,o)=>{!i&&o.isSymbolicLink()?Promise.all([J.stat(e),J.stat(t)]).then(([s,c])=>{if(Io(s,c))return r(null);vo(e,t,n,r)}):vo(e,t,n,r)})}function vo(e,t,n,r){Ku(e,t,(i,o)=>{if(i)return r(i);e=o.toDst,zu(o.toCwd,n,(s,c)=>{if(s)return r(s);let a=Eo.dirname(t);Zu(a,(p,u)=>{if(p)return r(p);if(u)return J.symlink(e,t,c,r);Ju(a,f=>{if(f)return r(f);J.symlink(e,t,c,r)})})})})}function tl(e,t,n){let r;try{r=J.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){let c=J.statSync(e),a=J.statSync(t);if(Io(c,a))return}let i=Yu(e,t);e=i.toDst,n=Qu(i.toCwd,n);let o=Eo.dirname(t);return J.existsSync(o)||Vu(o),J.symlinkSync(e,t,n)}Co.exports={createSymlink:Xu(el),createSymlinkSync:tl}});var _o=l((im,Lo)=>{"use strict";var{createFile:qo,createFileSync:No}=lo(),{createLink:Ao,createLinkSync:Do}=ho(),{createSymlink:Oo,createSymlinkSync:Ro}=bo();Lo.exports={createFile:qo,createFileSync:No,ensureFile:qo,ensureFileSync:No,createLink:Ao,createLinkSync:Do,ensureLink:Ao,ensureLinkSync:Do,createSymlink:Oo,createSymlinkSync:Ro,ensureSymlink:Oo,ensureSymlinkSync:Ro}});var St=l((om,Go)=>{function nl(e,{EOL:t=`
`,finalEOL:n=!0,replacer:r=null,spaces:i}={}){let o=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+o}function rl(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}Go.exports={stringify:nl,stripBom:rl}});var Bo=l((sm,Mo)=>{var ve;try{ve=j()}catch{ve=require("fs")}var wt=B(),{stringify:$o,stripBom:jo}=St();async function il(e,t={}){typeof t=="string"&&(t={encoding:t});let n=t.fs||ve,r="throws"in t?t.throws:!0,i=await wt.fromCallback(n.readFile)(e,t);i=jo(i);let o;try{o=JSON.parse(i,t?t.reviver:null)}catch(s){if(r)throw s.message=`${e}: ${s.message}`,s;return null}return o}var ol=wt.fromPromise(il);function sl(e,t={}){typeof t=="string"&&(t={encoding:t});let n=t.fs||ve,r="throws"in t?t.throws:!0;try{let i=n.readFileSync(e,t);return i=jo(i),JSON.parse(i,t.reviver)}catch(i){if(r)throw i.message=`${e}: ${i.message}`,i;return null}}async function cl(e,t,n={}){let r=n.fs||ve,i=$o(t,n);await wt.fromCallback(r.writeFile)(e,i,n)}var al=wt.fromPromise(cl);function ul(e,t,n={}){let r=n.fs||ve,i=$o(t,n);return r.writeFileSync(e,i,n)}var ll={readFile:ol,readFileSync:sl,writeFile:al,writeFileSync:ul};Mo.exports=ll});var Uo=l((cm,Wo)=>{"use strict";var gt=Bo();Wo.exports={readJson:gt.readFile,readJsonSync:gt.readFileSync,writeJson:gt.writeFile,writeJsonSync:gt.writeFileSync}});var xt=l((am,Jo)=>{"use strict";var fl=B().fromCallback,Be=j(),Ho=require("path"),Xo=X(),ml=Q().pathExists;function dl(e,t,n,r){typeof n=="function"&&(r=n,n="utf8");let i=Ho.dirname(e);ml(i,(o,s)=>{if(o)return r(o);if(s)return Be.writeFile(e,t,n,r);Xo.mkdirs(i,c=>{if(c)return r(c);Be.writeFile(e,t,n,r)})})}function pl(e,...t){let n=Ho.dirname(e);if(Be.existsSync(n))return Be.writeFileSync(e,...t);Xo.mkdirsSync(n),Be.writeFileSync(e,...t)}Jo.exports={outputFile:fl(dl),outputFileSync:pl}});var Ko=l((um,Vo)=>{"use strict";var{stringify:yl}=St(),{outputFile:hl}=xt();async function Sl(e,t,n={}){let r=yl(t,n);await hl(e,r,n)}Vo.exports=Sl});var zo=l((lm,Yo)=>{"use strict";var{stringify:wl}=St(),{outputFileSync:gl}=xt();function xl(e,t,n){let r=wl(t,n);gl(e,r,n)}Yo.exports=xl});var Zo=l((fm,Qo)=>{"use strict";var Fl=B().fromPromise,M=Uo();M.outputJson=Fl(Ko());M.outputJsonSync=zo();M.outputJSON=M.outputJson;M.outputJSONSync=M.outputJsonSync;M.writeJSON=M.writeJson;M.writeJSONSync=M.writeJsonSync;M.readJSON=M.readJson;M.readJSONSync=M.readJsonSync;Qo.exports=M});var is=l((mm,rs)=>{"use strict";var vl=j(),sn=require("path"),El=dt().copy,ns=je().remove,Tl=X().mkdirp,kl=Q().pathExists,es=ae();function Pl(e,t,n,r){typeof n=="function"&&(r=n,n={}),n=n||{};let i=n.overwrite||n.clobber||!1;es.checkPaths(e,t,"move",n,(o,s)=>{if(o)return r(o);let{srcStat:c,isChangingCase:a=!1}=s;es.checkParentPaths(e,c,t,"move",p=>{if(p)return r(p);if(Il(t))return ts(e,t,i,a,r);Tl(sn.dirname(t),u=>u?r(u):ts(e,t,i,a,r))})})}function Il(e){let t=sn.dirname(e);return sn.parse(t).root===t}function ts(e,t,n,r,i){if(r)return on(e,t,n,i);if(n)return ns(t,o=>o?i(o):on(e,t,n,i));kl(t,(o,s)=>o?i(o):s?i(new Error("dest already exists.")):on(e,t,n,i))}function on(e,t,n,r){vl.rename(e,t,i=>i?i.code!=="EXDEV"?r(i):Cl(e,t,n,r):r())}function Cl(e,t,n,r){El(e,t,{overwrite:n,errorOnExist:!0},o=>o?r(o):ns(e,r))}rs.exports=Pl});var us=l((dm,as)=>{"use strict";var ss=j(),an=require("path"),bl=dt().copySync,cs=je().removeSync,ql=X().mkdirpSync,os=ae();function Nl(e,t,n){n=n||{};let r=n.overwrite||n.clobber||!1,{srcStat:i,isChangingCase:o=!1}=os.checkPathsSync(e,t,"move",n);return os.checkParentPathsSync(e,i,t,"move"),Al(t)||ql(an.dirname(t)),Dl(e,t,r,o)}function Al(e){let t=an.dirname(e);return an.parse(t).root===t}function Dl(e,t,n,r){if(r)return cn(e,t,n);if(n)return cs(t),cn(e,t,n);if(ss.existsSync(t))throw new Error("dest already exists.");return cn(e,t,n)}function cn(e,t,n){try{ss.renameSync(e,t)}catch(r){if(r.code!=="EXDEV")throw r;return Ol(e,t,n)}}function Ol(e,t,n){return bl(e,t,{overwrite:n,errorOnExist:!0}),cs(e)}as.exports=Nl});var fs=l((pm,ls)=>{"use strict";var Rl=B().fromCallback;ls.exports={move:Rl(is()),moveSync:us()}});var un=l((ym,ms)=>{"use strict";ms.exports=g(g(g(g(g(g(g(g(g(g({},ce()),dt()),so()),_o()),Zo()),X()),fs()),xt()),Q()),je())});var Kl={};Ns(Kl,{default:()=>Ue});var x=require("@raycast/api"),ke=require("react");var ti=Je(require("node:process"),1),ni=Je(ei(),1);async function ri(e){if(ti.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await(0,ni.default)("osascript",["-e",e]);return t}var gs=require("@raycast/api"),mn=Je(un());var kt=require("@raycast/api"),Xl=require("react");var b="file-icons/",Ft=[{name:"Text",extension:"txt",languageId:"plaintext",keywords:["plaintext"],icon:b+"text.png",inputContent:!0},{name:"RTF",extension:"rtf",languageId:"rtf",keywords:[],icon:b+"rtf.png",inputContent:!1},{name:"Markdown",extension:"md",languageId:"markdown",keywords:[],icon:b+"markdown.png",inputContent:!0},{name:"Word",extension:"docx",languageId:"docx",keywords:["docx"],icon:b+"word.png",inputContent:!1},{name:"PowerPoint",extension:"pptx",languageId:"pptx",keywords:["pptx"],icon:b+"ppt.png",inputContent:!1},{name:"Excel",extension:"xlsx",languageId:"xlsx",keywords:["xlsx"],icon:b+"excel.png",inputContent:!1}],vt=[{name:"Java",extension:"java",languageId:"java",keywords:[],icon:b+"java.svg",inputContent:!0},{name:"Javascript",extension:"js",languageId:"javascript",keywords:[],icon:b+"javascript.svg",inputContent:!0},{name:"Typescript",extension:"ts",languageId:"typescript",keywords:[],icon:b+"typescript.svg",inputContent:!0},{name:"Json",extension:"json",languageId:"json",keywords:[],icon:b+"json.svg",inputContent:!0},{name:"XML",extension:"xml",languageId:"xml",keywords:[],icon:b+"xml.svg",inputContent:!0},{name:"CSS",extension:"css",languageId:"css",keywords:[],icon:b+"css.svg",inputContent:!0},{name:"Html",extension:"html",languageId:"html",keywords:[],icon:b+"html.svg",inputContent:!0},{name:"SVG",extension:"svg",languageId:"svg",keywords:[],icon:b+"svg.svg",inputContent:!0}],Et=[{name:"Apple",extension:"applescript",languageId:"applescript",keywords:["script"],icon:b+"applescript.svg",inputContent:!0},{name:"Groovy",extension:"groovy",languageId:"groovy",keywords:[],icon:b+"groovy.svg",inputContent:!0},{name:"Lua",extension:"lua",languageId:"lua",keywords:[],icon:b+"lua.svg",inputContent:!0},{name:"Perl",extension:"pl",languageId:"perl",keywords:[],icon:b+"perl.svg",inputContent:!0},{name:"PHP",extension:"php",languageId:"php",keywords:[],icon:b+"php.svg",inputContent:!0},{name:"Python",extension:"py",languageId:"python",keywords:[],icon:b+"python.svg",inputContent:!0},{name:"Ruby",extension:"rb",languageId:"ruby",keywords:[],icon:b+"ruby.svg",inputContent:!0},{name:"Shell",extension:"sh",languageId:"shell",keywords:["bash"],icon:b+"shell.svg",inputContent:!0}];var ln=require("react");var _l=require("@raycast/api");var ds=require("@raycast/api");var Ll=ds.environment.supportPath+"/templates";var Ss=require("@raycast/api");var We=require("@raycast/api");var Tt=require("@raycast/api");var Ee=require("@raycast/api");var Gl=require("react"),ue=require("@raycast/api");var hs=require("@raycast/api");var He=require("@raycast/api");var ws=require("@raycast/api");var Jl=`
if application "Finder" is not running then
    return "Not running"
end if

return POSIX path of (choose file)
`,xs=async()=>{let e="";try{return e=await ri(Jl),e}catch{return e}};var Fs=e=>{try{return mn.default.lstatSync(e).isFile()}catch{return!1}},vs=async()=>{let e=[];try{return(await(0,gs.getSelectedFinderItems)()).forEach(n=>{mn.default.lstatSync(n.path).isFile()&&e.push(n.path)}),e}catch{return e}};var Xe=Je(un()),Te=require("path");function Ue(e){let t=typeof e.setRefresh>"u"?()=>{}:e.setRefresh,[n,r]=(0,ke.useState)(""),[i,o]=(0,ke.useState)(""),[s,c]=(0,ke.useState)();return(0,ke.useEffect)(()=>{async function a(){let p=await Es(!0);r(p),o((0,Te.parse)(p).name)}a().then()},[]),_jsx(x.Form,{navigationTitle:"Add File Template",actions:_jsx(x.ActionPanel,null,_jsx(x.Action,{title:"Add File Template",icon:x.Icon.TextDocument,onAction:async()=>{if(n.length===0){c("The field should't be empty!");return}await Vl(i,n,c),t(Date.now())}}),_jsx(x.ActionPanel.Section,{title:"File Path Action"},_jsx(x.Action,{title:"Fetch File Path",icon:x.Icon.TwoArrowsClockwise,shortcut:{modifiers:["cmd"],key:"f"},onAction:async()=>{let a=await Es();r(a),o((0,Te.parse)(a).name)}}),_jsx(x.Action,{title:"Choose File Path",icon:x.Icon.Sidebar,shortcut:{modifiers:["shift","ctrl"],key:"c"},onAction:()=>{xs().then(a=>{(0,x.open)("raycast://").then(),r(a),o((0,Te.parse)(a).name)})}})))},_jsx(x.Form.Description,{title:"Information",text:"Templates added will automatically be available in the New File Here command."}),_jsx(x.Form.TextArea,{id:"path",title:"Path",placeholder:"/xxx/xxx",value:n,error:s,onChange:a=>{r(a),a.length>0&&c(void 0)},onBlur:a=>{a.target.value?.length==0?c("The field should't be empty!"):c(void 0)},info:"Insert the full path of the file used for the template. If you select a file before opening this command, its path is automatically added."}),_jsx(x.Form.TextField,{id:"name",title:"Name",placeholder:"File name without extension(Optional)",value:i,onChange:o}),_jsx(x.Form.Description,{title:"Extension",text:(0,Te.parse)(n).name}))}var Es=async(e=!1)=>{e||await(0,x.showToast)(x.Toast.Style.Animated,"Fetching selected file...");let t=await vs();return t.length>0?(await(0,x.showToast)(x.Toast.Style.Success,"Fetch path success!"),t[0]):(e||await(0,x.showToast)(x.Toast.Style.Failure,"Fetch nothing.","Please select a file or input manually."),"")},Vl=async(e,t,n)=>{if(Xe.default.existsSync(t))if(Fs(t)){let r=x.environment.supportPath+"/templates",i=r+"/"+e+(0,Te.parse)(t).ext;if(Xe.default.existsSync(i)){n("File already exists! Please rename!");return}Xe.default.ensureDirSync(r),Xe.default.copyFileSync(t,i),await(0,x.showHUD)("Template added"),await(0,x.popToRoot)({clearSearchBar:!1})}else n("Folder path is not supported!");else n("Path is invalid!")};module.exports=As(Kl);0&&(module.exports={});
